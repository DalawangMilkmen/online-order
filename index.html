<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Online orders - Dalawang Milkmen</title>
	<meta property="og:url"                content="https://dalawangmilkmen.github.io/online-order/" />
	<meta property="og:type"               content="website" />
	<meta property="og:title"              content="Online orders - Dalawang Milkmen" />
	<meta property="og:description"        content="You can now enjoy your favorite yogurt delivered right to your doorstep!" />
	<meta property="og:image"              content="https://dalawangmilkmen.github.io/online-order/assets/img/dmm/facebook-share.png" />

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/dmm/dmm-favicon.png" />
	<link rel="icon" type="image/png" href="assets/img/dmm/dmm-favicon.png" />

	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

	<!-- CSS Files -->
	<link href="assets/css/bootstrap.min.css" rel="stylesheet" />
	<link href="assets/css/material-bootstrap-wizard.css" rel="stylesheet" />

	<!-- CSS Just for demo purpose, don't include it in your project -->
	<link href="assets/css/demo.css" rel="stylesheet" />
</head>

<body>
	<style media="screen">
		.image-container:before{
			opacity: .4!important;
		}
	</style>
	<div class="image-container set-full-height" style="background-image: url('assets/img/dmm/background-dmm.jpg')">
	    <!--   Creative Tim Branding   -->
	    <a href="https://www.facebook.com/DalawangMilkmen/" target="_blank">
	         <div class="logo-container">
	            <div class="">
	                <img style='height:80px;' src="assets/img/dmm/dmm-logo-outline.png">
	            </div>
	            <!-- <div class="brand">
	                Dalawang Milkmen
	            </div> -->
	        </div>
	    </a>

		<!--  Made With Material Kit  -->
		<!-- <a href="http://demos.creative-tim.com/material-kit/index.html?ref=material-bootstrap-wizard" class="made-with-mk">
			<div class="brand">MK</div>
			<div class="made-with">Made with <strong>Material Kit</strong></div>
		</a> -->

	    <!--   Big container   -->
	    <div class="container">
	        <div class="row">
		        <div class="col-sm-8 col-sm-offset-2">
		            <!--      Wizard container        -->
		            <div class="wizard-container">
		                <div class="card wizard-card" data-color="blue" id="wizard">
			                <form action="" method="">
			                <!--        You can switch " data-color="rose" "  with one of the next bright colors: "blue", "green", "orange", "purple"        -->

		                    	<div class="wizard-header">
		                        	<h3 class="wizard-title">
		                        		Dalawang Milkmen Deliveries
		                        	</h3>
									<h5>üóì Next delivery date: <strong><span style='' id='nextDelivery'></span></strong></h5>
									<p style="text-align:center">
										<br>
										We currently deliver üõµ only in Makati and BGC üòÅ
									</p>
		                    	</div>
								<div class="wizard-navigation">
									<ul>
			                            <li><a href="#order" data-toggle="tab">Your Order </a></li>
			                            <li><a href="#contact" data-toggle="tab">Contact</a></li>
			                            <li><a href="#delivery" data-toggle="tab">Delivery Info</a></li>
			                            <li><a href="#summary" data-toggle="tab">Summary</a></li>
			                        </ul>
								</div>

		                        <div class="tab-content">
		                            <div class="tab-pane" id="order">
		                            	<div class="row">
		                                	<div class="col-sm-12">
		                                    	<h4 class="info-text"> What would you like to order ?</h4>

		                                	</div>
		                                	<div class="col-sm-2 col-sm-offset-1">
												<img src="assets/img/dmm/20190103-Dalawang-mango.jpg" style="width:100px;height:auto;"  alt="" />
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Mango</label>
													<select id='stock-Mango' class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<option>0</option>

		                                        	</select>
		                                    	</div>
		                                	</div>
		                                	<div class="col-sm-2">
												<img src="assets/img/dmm/20190103-Dalawang-raspberry.jpg" style="width:100px;height:auto;"  alt="" />
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Raspberry</label>
													<select id='stock-Raspberry' class="form-control">
		                                            	<option disabled="" selected=""></option>
														<option>0</option>
		                                        	</select>
		                                    	</div>
		                                	</div>
		                                	<div class="col-sm-2">
												<img src="assets/img/dmm/20190103-Dalawang-strawberry.jpg" style="width:100px;height:auto;"  alt="" />
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Strawberry</label>
													<select id='stock-Strawberry' class="form-control">
		                                            	<option disabled="" selected=""></option>
														<option>0</option>

		                                        	</select>
		                                    	</div>
		                                	</div>
		                                	<div class="col-sm-2">
												<img src="assets/img/dmm/20190103-Dalawang-sweetened.jpg" style="width:100px;height:auto;"  alt="" />
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Sweetened</label>
													<select id='stock-Sweetened' class="form-control">
		                                            	<option disabled="" selected=""></option>
														<option>0</option>
		                                        	</select>
		                                    	</div>
		                                	</div>
											<div class="col-sm-2">
												<img src="assets/img/dmm/20190103-Dalawang-unsweetened.jpg" style="width:100px;height:auto;"  alt="" />
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Unsweetened</label>
													<select id='stock-Unsweetened' class="form-control">
		                                            	<option disabled="" selected=""></option>
														<option>0</option>

		                                        	</select>
		                                    	</div>
		                                	</div>

		                            	</div>
										<p style="text-align:center">
											Order 7 or more yogurts to have a free delivery
										</p>
		                            </div>
		                            <div class="tab-pane" id="contact">
		                                <h4 class="info-text">Your contact details </h4>
										<div class="row">
  		                                	<div class="col-sm-10 col-sm-offset-1">
  												<div class="input-group">
  													<span class="input-group-addon">
  														<i class="material-icons">face</i>
  													</span>
  													<div class="form-group label-floating">
  			                                          <label class="control-label">First Name <small>(required)</small></label>
  			                                          <input name="firstname" type="text" class="form-control">
  			                                        </div>
  												</div>

  												<div class="input-group">
  													<span class="input-group-addon">
  														<i class="material-icons">record_voice_over</i>
  													</span>
  													<div class="form-group label-floating">
  													  <label class="control-label">Last Name <small>(required)</small></label>
  													  <input name="lastname" type="text" class="form-control">
  													</div>
  												</div>
  		                                	</div>
  		                                	<div class="col-sm-10 col-sm-offset-1">
  												<div class="input-group">
  													<span class="input-group-addon">
  														<i class="material-icons">email</i>
  													</span>
  													<div class="form-group label-floating">
  			                                            <label class="control-label">Email <small>(required)</small></label>
  			                                            <input name="email" type="email" class="form-control">
  			                                        </div>
  												</div>
  		                                	</div>
  		                                	<div class="col-sm-10 col-sm-offset-1">
  												<div class="input-group">
  													<span class="input-group-addon">
  														<i class="material-icons">local_phone</i>
  													</span>
  													<div class="form-group label-floating">
  			                                            <label class="control-label">Phone <small>(required)</small></label>
  			                                            <input name="phone" type="text" class="form-control">
  			                                        </div>
  												</div>
  		                                	</div>
  		                            	</div>
		                            </div>
		                            <div class="tab-pane" id="delivery">
		                                <h4 class="info-text">At what time would you like to be delivered on <span id='datedelivery'></span></h4>
		                                <div class="row">
		                                    <div class="col-sm-5 col-sm-offset-1">
		                                      <div class="form-group label-floating">
		                                        	<label class="control-label">Delivery Time <small>(required)</small></label>
		                                        	<select id='deliveryTime'  name="deliveryTime"  class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<option>9am to 11am</option>
		                                            	<option>11am to 1pm </option>
		                                            	<option>1pm to 3pm </option>
		                                            	<option>3pm to 5pm </option>
		                                            	<option>5pm to 7pm </option>
		                                            	<option>7pm to 8pm </option>
		                                        	</select>
		                                    	</div>
		                                    </div>
		                                    <div class="col-sm-5">
		                                      <div class="form-group label-floating">
		                                        	<label class="control-label">District name <small>(required)</small></label>
		                                        	<select id='district' name="district"  class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<option>Makati</option>
		                                            	<option>BGC</option>
		                                        	</select>
		                                    	</div>
		                                    </div>
		                                    <!-- <div class="col-sm-5">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Is air conditioning included ?</label>
		                                        	<select class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<option>Yes</option>
		                                            	<option>No </option>
		                                        	</select>
		                                    	</div>
		                                    </div> -->
		                                    <div class="col-sm-5 col-sm-offset-1">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Barangay name  <small>(required)</small></label>
		                                        	<select id="barangay" name="barangay" class="form-control">
		                                    			<option disabled="" selected=""></option>

		                                            	<option>Bangkal</option>
		                                            	<option>Bel-Air</option>
		                                            	<option>Carmona</option>
		                                            	<option>Cembo</option>
		                                            	<option>Comembo</option>
		                                            	<option>Dasmari√±as</option>
		                                            	<option>East Rembo</option>
		                                            	<option>Forbes Park</option>
		                                            	<option>Fort Bonifacio</option>
		                                            	<option>Guadalupe Nuevo</option>
		                                            	<option>Guadalupe Viejo</option>
														<option>Kasilawan</option>
		                                            	<option>La Paz</option>
		                                            	<option>Magallanes</option>
		                                            	<option>Olympia</option>
		                                            	<option>Palanan</option>
		                                            	<option>Pembo</option>
		                                            	<option>Pinagkaisahan</option>
		                                            	<option>Pio del Pilar</option>
		                                            	<option>Pitogo</option>
		                                            	<option>Poblacion</option>
		                                            	<option>Rizal</option>
		                                            	<option>San Antonio</option>
		                                            	<option>San Isidro</option>
		                                            	<option>San Lorenzo</option>
		                                            	<option>Santa Cruz</option>
		                                            	<option>Singkamas</option>
		                                            	<option>South Cembo</option>
		                                            	<option>Tejeros</option>
		                                            	<option>Urdaneta</option>
		                                            	<option>Valenzuela</option>
		                                            	<option>West Rembo</option>
		                                        	</select>
		                                    	</div>
		                                    </div>
		                                    <div class="col-sm-5">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Street <small>(required)</small></label>
													<input name="street" type="text" class="form-control">
		                                    	</div>
		                                    	<!-- <div class="form-group label-floating">
		                                        	<label class="control-label">House Number/Building Name</label>
		                                        	<select class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<option>Yes</option>
		                                            	<option>No </option>
		                                        	</select>
		                                    	</div> -->
	                                    	</div>
		                                    <div class="col-sm-5 col-sm-offset-1">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">House Number / Building Name</label>
													<input name="housenb" type="text" class="form-control">
		                                    	</div>
	                                    	</div>
		                                    <div class="col-sm-5 ">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Floor / Unit / Room# <small>(optional)</small></label>
													<input name="floor" type="text" class="form-control">
		                                    	</div>
	                                    	</div>
		                                </div>
		                            </div>
		                            <div class="tab-pane" id="summary">
		                                <div class="row">
		                                    <!-- <h4 class="info-text"> Drop us a small description. </h4> -->
		                                    <div class="col-sm-4 col-sm-offset-1">
												<div class="form-group label-floating">
													<!-- <label class="control-label">Dalawang Milkmen Engagement</label> -->
													<p class="description">Good news our glass jars are endlessly recyclable ‚ôªÔ∏è and we give 5php per returned jar & lid!</p>
												</div>
		                                        <div class="form-group label-floating">
		                                            <label class="control-label"># of jars to return</label>
		                                            <input id='jarrenb' class="form-control" type="number" name="jarre" value="">

		                                        </div>
		                                    </div>
		                                    <div class="col-sm-4">
												<label class="control-label">Number of yogurt ordered</label>
												<ul style="list-style: none;padding-left: 14px;">
													<li style="color:#DEAA4E">
														Mango : <span id="summary-Mango" style="float:right" >0</span>
													</li>
													<li style="color:#F17A92">
														Strawberry :<span id="summary-Strawberry" style="float:right" >0</span>
													 </li>
													<li style="color:#D2373E">
														Raspberry :<span id="summary-Raspberry" style="float:right" >0</span>
													</li>
													<li style="color:#7B9DCF">
														Unsweetened :<span id="summary-Unsweetened" style="float:right" >0</span>
													</li>
													<li style="color:#99B9DD">
														Sweetened : <span id="summary-Sweetened" style="float:right" >0</span>
													</li>
													<li>
														Returned Jars<span id="summary-Jarre" style="float:right" >0</span>
													</li>
												</ul>
												<hr>
												<ul style="list-style: none;padding-left: 14px;">
													<li>Delivery fee (php) : <span id='summay-deliveryfee' style="float:right">50</span></li>
													<li><strong>Total Price (php) : <span id='summay-Price' style="float:right">0</span></strong></li>
												</ul>



		                                    </div>
		                                    <div class="col-sm-3">
		                                    	<div class="form-group label-floating">
		                                            <label class="control-label">Payment method</label>
		                                            <p class="description">"Cash on delivery"</p>
													<!-- <label class="control-label">Payment methode</label>
													<input id='bill' class="form-control" type="text" name="bill" value=""> -->
		                                        </div>
		                                    	<div class="form-group label-floating">
		                                            <!-- <h5 class="">Payment methode</h5>
		                                            <p class="description">"Cash on delivery"</p> -->
													<label class="control-label">Change for (php) :</label>
													<input id='bill' class="form-control" type="text" name="bill" value="">
		                                        </div>
		                                    </div>
		                                </div>
										<p id='deliveryFree' style="text-align:center;">

										</p>
		                            </div>
		                        </div>
		                        <div class="wizard-footer">
	                            	<div class="pull-right">
	                                    <input type='button' class='btn btn-next btn-fill btn-info btn-wd' name='next' value='Next' />
	                                    <input id='send' type='button' class='btn btn-finish btn-fill btn-info btn-wd' name='finish' value='Send Order' />
	                                </div>
	                                <div class="pull-left">
	                                    <input type='button' class='btn btn-previous btn-fill btn-default btn-wd' name='previous' value='Previous' />
	                                </div>
		                            <div class="clearfix"></div>
		                        </div>
			                </form>
		                </div>
						<div class="order-confirm" style="display:none;text-align:center;">
							<img src="assets/img/dmm/dmm-logo-outline.png" style='height:200px' alt="" />

							<h2 style="color:#fff;">Thank you, your order has been confirmed.</h2>
							<h4 style="color:#fff;">You will receive a confirmation email soon.</h4>

						</div>
		            </div> <!-- wizard container -->
		        </div>
	        </div> <!-- row -->
	    </div> <!--  big container -->

	    <div class="footer">
	        <div class="container text-center">
	             Freshly made with <i class="fa fa-heart heart"></i> in Lipa
	        </div>
	        <div class="container text-center">
	             For exceptional orders <a href="https://www.messenger.com/t/DalawangMilkmen" target="_blank">contact us.</a>
	        </div>
	    </div>
	</div>

</body>
	<!--   Core JS Files   -->
	<script src="assets/js/jquery-2.2.4.min.js" type="text/javascript"></script>
	<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/js/jquery.bootstrap.js" type="text/javascript"></script>

	<!--  Plugin for the Wizard -->
	<script src="assets/js/material-bootstrap-wizard.js"></script>

	<!--  More information about jquery.validate here: http://jqueryvalidation.org/	 -->
	<script src="assets/js/jquery.validate.min.js"></script>
	<script type="text/javascript">
	'use strict';document.addEventListener('DOMContentLoaded',function(){var b,c,d,f,g,h='0',j='0',k='0',l='0',m='0',n=0,o,p,q=document.getElementById('send'),r='keyy91JVw4nn9lwqH',s='appWeyp3UlQHHV5By',t=function(w){var x=document.getElementById('stock-'+w.fields.Name);if(15<w.fields.stock)for(var y=1;16>y;y++)this.option=document.createElement('option'),this.option.innerText=y,this.option.value=y,x.append(this.option);else for(var y=0;y<w.fields.stock;y++)this.option=document.createElement('option'),this.option.innerText=y+1,this.option.value=y+1,x.append(this.option)},u=function(){o=parseFloat(m)+parseFloat(h)+parseFloat(j)+parseFloat(k)+parseFloat(l),7>o?($('#summay-deliveryfee').text('50'),$('#deliveryFree').text('\uD83D\uDC4D Order 7 or more yogurts to have a free delivery'),p=o*f+parseFloat(d)-n*g):($('#summay-deliveryfee').text('free'),$('#deliveryFree').text(''),p=o*f-n*g),$('#summay-Price').text(p)};$('#stock-Mango').on('change',function(){h=this.value,$('#summary-Mango').text(this.value),u()}),$('#stock-Raspberry').on('change',function(){j=this.value,$('#summary-Raspberry').text(this.value),u()}),$('#stock-Strawberry').on('change',function(){k=this.value,$('#summary-Strawberry').text(this.value),u()}),$('#stock-Unsweetened').on('change',function(){m=this.value,$('#summary-Unsweetened').text(this.value),u()}),$('#stock-Sweetened').on('change',function(){l=this.value,$('#summary-Sweetened').text(this.value),u()}),$('#jarrenb').on('change',function(){n=this.value,$('#summary-Jarre').text(this.value),u()}),q.addEventListener('click',function(){v()});var v=function(){var w=document.querySelectorAll('input[name$="firstname"]')[0].value,x=document.querySelectorAll('input[name$="lastname"]')[0].value,y=document.querySelectorAll('input[name$="email"]')[0].value,z=document.querySelectorAll('input[name$="phone"]')[0].value,A=document.getElementById('deliveryTime'),B=A.options[A.selectedIndex].value,C=document.getElementById('barangay'),D=C.options[C.selectedIndex].value,E=document.getElementById('district'),F=E.options[E.selectedIndex].value,G=document.querySelectorAll('input[name$="street"]')[0].value,H=document.querySelectorAll('input[name$="housenb"]')[0].value,I=document.querySelectorAll('input[name$="bill"]')[0].value,J=document.querySelectorAll('input[name$="floor"]')[0].value,K={fields:{'First Name':w,'Total Amount':parseFloat(p),'Last Name':x,Mango:parseFloat(h),Raspberry:parseFloat(j),Sweetened:parseFloat(l),Strawberry:parseFloat(k),Email:y,Phone:z,Unsweetened:parseFloat(m),'Jarre to return':parseFloat(n),'Delivery Time':B,District:F,Barangay:D,Street:G,'House number':H,'Delivery Date':c,'Change for':I,'Floor / Unit / Room#':J}};console.log(K.fields.Mango),SaveOrder(K)};SaveOrder=function SaveOrder(w){console.log(w.fields.Mango);fetch('https://api.airtable.com/v0/'+s+'/Customer',{method:'POST',headers:new Headers({Authorization:'Bearer '+r,'Content-Type':'application/json'}),body:JSON.stringify(w)}).then(function(y){return y.json()}).then(function(y){console.log(y),console.log(y.fields.Mango),0<y.fields.Mango&&UdpateStock(b[0],y.fields.Mango),0<y.fields.Strawberry&&UdpateStock(b[1],y.fields.Strawberry),0<y.fields.Raspberry&&UdpateStock(b[2],y.fields.Raspberry),0<y.fields.Sweetened&&UdpateStock(b[3],y.fields.Sweetened),0<y.fields.Unsweetened&&UdpateStock(b[4],y.fields.Unsweetened),setTimeout(function(){document.getElementsByClassName('wizard-card')[0].style.display='none',document.getElementsByClassName('footer')[0].style.display='none',document.getElementsByClassName('order-confirm')[0].style.display='block'},1e3)}).catch(function(y){console.error(y)})},UdpateStock=function UdpateStock(w,x){w.fields.stock-=x;var y='https://api.airtable.com/v0/'+s+'/Stock/'+w.id;console.log(w),console.log(w.fields),console.log(y);var z={fields:w.fields};fetch(y,{method:'PUT',headers:new Headers({Authorization:'Bearer '+r,'Content-Type':'application/json'}),body:JSON.stringify(z)}).then(function(A){return A.json()}).then(function(A){console.log(A)}).catch(function(A){console.error(A)})},fetchProduct=function fetchProduct(){fetch('https://api.airtable.com/v0/'+s+'/Stock?maxRecords=10&view=Grid%20view',{method:'get',headers:new Headers({Authorization:'Bearer '+r})}).then(function(x){return x.json()}).then(function(x){b=x.records,console.log(b);for(var y=0;y<b.length;y++)t(b[y])}).catch(function(x){console.error(x)})},fetchInfo=function fetchInfo(){fetch('https://api.airtable.com/v0/'+s+'/Info?maxRecords=10&view=Grid%20view',{method:'get',headers:new Headers({Authorization:'Bearer '+r})}).then(function(x){return x.json()}).then(function(x){document.getElementById('nextDelivery').innerText=x.records[0].fields.info,document.getElementById('datedelivery').innerText=x.records[0].fields.info,c=x.records[0].fields.info,f=x.records[1].fields.info,g=x.records[2].fields.info,d=x.records[3].fields.info}).catch(function(x){console.error(x)})},fetchProduct(),fetchInfo()});
	</script>


</html>
